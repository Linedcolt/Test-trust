<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="./favicon_circle.svg"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#ffffff"/><title>s&#8202;l&#8202;o&#8202;w&nbsp;&nbsp;r&#8202;o&#8202;a&#8202;d&#8202;s</title><meta name="title" content="s l o w  r o a d s"><meta name="description" content="endless driving zen in your browser"><meta property="og:type" content="website"><meta property="og:url" content="https://slowroads.io/"><meta property="og:title" content="s l o w  r o a d s"><meta property="og:description" content="endless driving zen in your browser"><meta property="og:image" content="./img.jpg"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://slowroads.io/"><meta property="twitter:title" content="s l o w  r o a d s"><meta property="twitter:description" content="endless driving zen in your browser"><meta property="twitter:image" content="./img.jpg"><link rel="manifest" href="./manifest.json"/><script src="./alea.min.js"></script><link href="./static/css/main.a473f648.chunk.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"></div><script>!function(e){function r(r){for(var n,a,i=r[0],c=r[1],l=r[2],f=0,s=[];f<i.length;f++)a=i[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&s.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,l||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++){var c=t[i];0!==o[c]&&(n=!1)}n&&(u.splice(r--,1),e=a(a.s=t[0]))}return e}var n={},o={1:0},u=[];function a(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(e){var r=[],t=o[e];if(0!==t)if(t)r.push(t[2]);else{var n=new Promise((function(r,n){t=o[e]=[r,n]}));r.push(t[2]=n);var u,i=document.createElement("script");i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.src=function(e){return a.p+"static/js/"+({}[e]||e)+"."+{3:"98d9946c"}[e]+".chunk.js"}(e);var c=new Error;u=function(r){i.onerror=i.onload=null,clearTimeout(l);var t=o[e];if(0!==t){if(t){var n=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;c.message="Loading chunk "+e+" failed.\n("+n+": "+u+")",c.name="ChunkLoadError",c.type=n,c.request=u,t[1](c)}o[e]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:i})}),12e4);i.onerror=i.onload=u,document.head.appendChild(i)}return Promise.all(r)},a.m=e,a.c=n,a.d=function(e,r,t){a.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,r){if(1&r&&(e=a(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)a.d(t,n,function(r){return e[r]}.bind(null,n));return t},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="./",a.oe=function(e){throw console.error(e),e};var i=this.webpackJsonpapp=this.webpackJsonpapp||[],c=i.push.bind(i);i.push=r,i=i.slice();for(var l=0;l<i.length;l++)r(i[l]);var p=c;t()}([])</script><script src="./static/js/2.f5fa8177.chunk.js"></script><script src="./static/js/main.e7a33c55.chunk.js"></script><script>
/*
  Heavy Vehicle runtime script
  - Adds a settings button to toggle stronger gravity
  - Searches for likely vehicle objects and applies an extra downward acceleration continuously
  - Non-destructive: toggling OFF stops the extra force
  - Paste this into your built index.html just before </body>
*/

(function () {
  const DEFAULT_MULT = 10.0;   // default gravity multiplier
  const SCAN_INTERVAL = 800;   // ms between scanning for candidate objects
  const APPLY_FREQ = 1000 / 60; // ms — apply around 60Hz
  const MAX_CANDIDATES = 20;

  // global flag and multiplier
  window.__HEAVY_VEHICLE_ENABLED = false;
  window.__HEAVY_VEHICLE_MULT = DEFAULT_MULT;

  // small UI
  function createUI() {
    if (document.getElementById("heavyVehiclePanel")) return;
    const panel = document.createElement("div");
    panel.id = "heavyVehiclePanel";
    panel.style.position = "fixed";
    panel.style.left = "12px";
    panel.style.bottom = "12px";
    panel.style.zIndex = 999999;
    panel.style.fontFamily = "sans-serif";
    panel.style.background = "rgba(0,0,0,0.55)";
    panel.style.color = "#fff";
    panel.style.padding = "10px";
    panel.style.borderRadius = "8px";
    panel.style.backdropFilter = "blur(6px)";
    panel.style.boxShadow = "0 6px 18px rgba(0,0,0,0.4)";

    const title = document.createElement("div");
    title.style.fontSize = "13px";
    title.style.marginBottom = "6px";
    title.textContent = "Vehicle gravity";
    panel.appendChild(title);

    const btn = document.createElement("button");
    btn.id = "heavyVehicleBtn";
    btn.textContent = "Heavy Vehicle: OFF";
    btn.style.padding = "6px 10px";
    btn.style.fontSize = "13px";
    btn.style.cursor = "pointer";
    btn.style.marginRight = "8px";
    panel.appendChild(btn);

    const label = document.createElement("label");
    label.style.fontSize = "12px";
    label.style.marginLeft = "4px";
    label.textContent = "multiplier:";
    panel.appendChild(label);

    const input = document.createElement("input");
    input.id = "heavyVehicleMult";
    input.type = "number";
    input.value = String(DEFAULT_MULT);
    input.step = "0.5";
    input.min = "1";
    input.style.width = "64px";
    input.style.marginLeft = "6px";
    panel.appendChild(input);

    document.body.appendChild(panel);

    btn.addEventListener("click", () => {
      window.__HEAVY_VEHICLE_ENABLED = !window.__HEAVY_VEHICLE_ENABLED;
      btn.textContent = window.__HEAVY_VEHICLE_ENABLED ? "Heavy Vehicle: ON" : "Heavy Vehicle: OFF";
    });

    input.addEventListener("change", () => {
      const v = parseFloat(input.value);
      if (isFinite(v) && v >= 1) {
        window.__HEAVY_VEHICLE_MULT = v;
      } else {
        input.value = String(window.__HEAVY_VEHICLE_MULT);
      }
    });
  }

  // utility to test if an object looks like a vehicle/rig: has velocity-like props or applyForce
  function looksLikeVehicle(obj) {
    if (!obj || typeof obj !== "object") return false;
    try {
      if (typeof obj.applyForce === "function" || typeof obj.addForce === "function") return true;
      const v = obj.velocity || obj.vel || obj.v;
      if (v && typeof v === "object") {
        if (typeof v.y === "number" && (typeof obj.position === "object" || typeof obj.p === "object")) return true;
      }
      // some implementations use linearVelocity
      if (obj.linearVelocity && typeof obj.linearVelocity.y === "number") return true;
      // other heuristics: presence of 'mass' and 'position'
      if (typeof obj.mass === "number" && typeof obj.position === "object") return true;
    } catch (e) {}
    return false;
  }

  // find candidates by scanning window properties and DOM-attached objects
  function scanForCandidates() {
    const found = new Set();
    // check some obvious global names first
    const commonNames = ["player", "car", "vehicle", "vehicleController", "world", "game", "app", "scene", "carController", "playerCar", "playerVehicle"];
    commonNames.forEach(name => {
      try {
        const obj = window[name];
        if (looksLikeVehicle(obj)) found.add(obj);
      } catch (e) {}
    });

    // scan window properties (conservative)
    try {
      let count = 0;
      for (let k in window) {
        if (++count > 2000) break; // limit to avoid huge scans
        try {
          const v = window[k];
          if (looksLikeVehicle(v)) {
            found.add(v);
            if (found.size >= MAX_CANDIDATES) break;
          }
        } catch (e) {}
      }
    } catch (e) {}

    // scan elements for attached objects (some libs attach to elements)
    try {
      const all = document.querySelectorAll("*");
      for (let el of all) {
        try {
          for (let propName in el) {
            if (propName.toLowerCase().includes("car") || propName.toLowerCase().includes("vehicle") || propName.toLowerCase().includes("player")) {
              const v = el[propName];
              if (looksLikeVehicle(v)) {
                found.add(v);
                if (found.size >= MAX_CANDIDATES) break;
              }
            }
          }
          if (found.size >= MAX_CANDIDATES) break;
        } catch (e) {}
      }
    } catch (e) {}

    // convert to array
    return Array.from(found);
  }

  // store the current candidate objects and some metadata
  let candidates = [];
  function refreshCandidates() {
    const c = scanForCandidates();
    // merge with existing references (to preserve identity)
    const merged = [];
    for (let o of c) {
      if (!merged.includes(o)) merged.push(o);
    }
    candidates = merged;
    console.info("HeavyVehicle: candidates found:", candidates.length);
  }

  // apply extra downward acceleration to candidate objects
  // We use a basic scheme: if object has velocity.y, subtract extraVel (per tick)
  // If it has applyForce/addForce, we call it with a downward vector if available.
  let lastTime = performance.now();
  function applyDownwardTick() {
    if (!window.__HEAVY_VEHICLE_ENABLED) {
      lastTime = performance.now();
      return;
    }
    const now = performance.now();
    const dt = Math.min(0.1, (now - lastTime) / 1000); // clamp dt
    lastTime = now;
    const extraG = (window.__HEAVY_VEHICLE_MULT - 1) * 9.81; // extra m/s^2 to apply
    if (extraG <= 0) return;

    candidates.forEach(obj => {
      try {
        // prefer velocity objects
        if (obj.velocity && typeof obj.velocity.y === "number") {
          // apply v = v - extraG * dt
          obj.velocity.y -= extraG * dt;
        } else if (obj.linearVelocity && typeof obj.linearVelocity.y === "number") {
          obj.linearVelocity.y -= extraG * dt;
        } else if (typeof obj.applyForce === "function") {
          // try using applyForce(downVector, point)
          try {
            const mass = typeof obj.mass === "number" ? obj.mass : 1;
            // Force = mass * acceleration
            const force = extraG * mass;
            // construct a small vector object if library expects it
            const v = { x: 0, y: -force, z: 0 };
            obj.applyForce(v);
          } catch (e) {}
        } else if (typeof obj.addForce === "function") {
          try {
            const mass = typeof obj.mass === "number" ? obj.mass : 1;
            const force = extraG * mass;
            obj.addForce(0, -force, 0);
          } catch (e) {}
        } else {
          // last resort: if object has position and we can detect being airborne, nudge position down slightly
          if (obj.position && typeof obj.position.y === "number") {
            // do not stomp position unless absolutely necessary
            obj.position.y -= extraG * dt * 0.02; // tiny nudge
          }
        }
      } catch (e) {
        // ignore per-object errors
      }
    });
  }

  // periodic candidate refresh and apply loop
  createUI();
  refreshCandidates();
  setInterval(refreshCandidates, SCAN_INTERVAL);

  // run applyDownwardTick at ~60Hz
  const applyHandle = setInterval(applyDownwardTick, APPLY_FREQ);

  // expose helper for manual control from console
  window.__heavyVehicle = {
    enable() { window.__HEAVY_VEHICLE_ENABLED = true; },
    disable() { window.__HEAVY_VEHICLE_ENABLED = false; },
    toggle() { window.__HEAVY_VEHICLE_ENABLED = !window.__HEAVY_VEHICLE_ENABLED; },
    setMult(v) { window.__HEAVY_VEHICLE_MULT = v; document.getElementById("heavyVehicleMult") && (document.getElementById("heavyVehicleMult").value = String(v)); },
    refresh() { refreshCandidates(); },
    listCandidates() { return candidates.slice(0, 40); }
  };

  console.info("HeavyVehicle patch loaded. Use the UI at bottom-left or call window.__heavyVehicle.* from console.");
})();
</script></body></html>
